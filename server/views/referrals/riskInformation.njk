{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/tag/macro.njk" import govukTag %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/details/macro.njk" import govukDetails %}

{% extends "../partials/layout.njk" %}

{% set pageTitle = "HMPPS Interventions" %}
{% block pageTitle %}
  {{ pageTitle }}
  - GOV.UK
{% endblock %}

{% block pageContent %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if errorSummaryArgs !== null %}
        {{ govukErrorSummary(errorSummaryArgs) }}
      {% endif %}

      <h1 class="govuk-heading-xl">{{ presenter.text.title }}</h1>

      {% if presenter.riskPresenter.riskSummaryEnabled %}

        {% if presenter.riskPresenter.riskSummaryNotFound %}

          <p class="govuk-body">Up to date risk information for this service user was not found in OASys. You can still add additional risk information for the service provider.</p>

          {% else %}

          <p class="govuk-body">This shows the service user's Risk of Serious Harm (ROSH) levels from OASys. You may also add information for the service provider.</p>

          <h2 class="govuk-heading-l">ROSH analysis</h2>

          {{ govukTable(roshAnalysisTableArgs(govukTag)) }}

          {{ govukDetails(riskLevelDetailsArgs) }}

          {{ furtherRiskInformation | safe }}

        {% endif %}

      {% endif %}

      <form method="post">
        <input type="hidden" name="_csrf" value="{{csrfToken}}">

        {{ govukTextarea(additionalRiskInformationTextareaArgs) }}

        {{ govukButton({ text: "Save and continue" }) }}
      </form>
    </div>
  </div>
{% endblock %}
